cmake_minimum_required(VERSION 3.16)
project(datamodel_client)
set(SRCDIR "${CMAKE_SOURCE_DIR}")
set(CMAKE_MODULE_PATH ${SRCDIR}/cmake)
set(OUTLIBNAME "datamodel_client")

include(${CMAKE_MODULE_PATH}/detect_platform.cmake)
include(${CMAKE_MODULE_PATH}/source_lib_base.cmake)

if( LINUXALL )
    #target_compile_options(${OUTLIBNAME} PRIVATE -Wno-narrowing -fpic -fno-semantic-interposition)
    target_compile_options(${OUTLIBNAME} PRIVATE -fpermissive)
endif()
add_definitions(-DDATAMODEL_LIB)

target_sources(${OUTLIBNAME} PRIVATE "clipboardmanager.cpp")
target_sources(${OUTLIBNAME} PRIVATE "datamodel.cpp")
target_sources(${OUTLIBNAME} PRIVATE "dependencygraph.cpp")
target_sources(${OUTLIBNAME} PRIVATE "dmattribute.cpp")
target_sources(${OUTLIBNAME} PRIVATE "dmelement.cpp")
target_sources(${OUTLIBNAME} PRIVATE "dmelementdictionary.cpp")
target_sources(${OUTLIBNAME} PRIVATE "dmelementfactoryhelper.cpp")
target_sources(${OUTLIBNAME} PRIVATE "DmElementFramework.cpp")
target_sources(${OUTLIBNAME} PRIVATE "dmserializerbinary.cpp")
target_sources(${OUTLIBNAME} PRIVATE "dmserializerkeyvalues.cpp")
target_sources(${OUTLIBNAME} PRIVATE "dmserializerkeyvalues2.cpp")
target_sources(${OUTLIBNAME} PRIVATE "undomanager.cpp")
